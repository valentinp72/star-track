<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>StarTrack</title>

		<base href="/" />

		<meta name="color-scheme" content="light dark" />
		<meta
		  name="viewport"
		  content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
		/>
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />

		<link rel="manifest" href="<%= BASE_URL %>assets/manifest.webmanifest">
		<link rel="shortcut icon" sizes="any" type="image/svg+xml" href="<%= BASE_URL %>assets/icons/logo.svg" />
		<link rel="icon" sizes="any" type="image/svg+xml" href="<%= BASE_URL %>assets/icons/logo.svg" />

		<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff" />
		<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000" />

		<!-- ios PWA logo -->
		<link rel="apple-touch-icon" href="<%= BASE_URL %>assets/icons/icon-256.webp" />
		<link rel="apple-touch-icon" sizes="152x152" href="<%= BASE_URL %>assets/icons/icon-192.webp" />
		<link rel="apple-touch-icon" sizes="180x180" href="<%= BASE_URL %>assets/icons/icon-192.webp" />
		<link rel="apple-touch-icon" sizes="167x167" href="<%= BASE_URL %>assets/icons/icon-192.webp" />

		<!-- ios PWA splashscreens -->
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1668-2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1290-2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1179-2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
		<link rel="apple-touch-startup-image" href="<%= BASE_URL %>assets/icons/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" />
	</head>

	<body>
		<div id="app"></div>
	</body>

	<script>
		/**
			Hack to disabble back swipe on Safari iOS PWA.
	   		Source: https://pqina.nl/blog/blocking-navigation-gestures-on-ios-13-4/
		**/
		const offset = 20;
		const events = ['touchstart', 'touchmove'];
		const elements = [document, document.body, window];
	
		elements.forEach(element => {
			events.forEach(event => {
				element.addEventListener(event, (e) => {
					if (e.pageX > offset && e.pageX < window.innerWidth - offset) {
						return true;
					}
					e.stopPropagation();
					e.preventDefault();
					return false;
				}, {passive: false});
			});
		});
	</script>
</html>

